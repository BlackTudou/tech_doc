==============
LCD 显示屏
==============

LCD VS OLED
=============

https://www.zhihu.com/question/22263252

液晶本身是不发光的，所以需要有一个背光灯提供光源，LCD的发光原理主要靠背光层，也就是Back-light的部分。

LCD 接口分类
==============

LCD (Liquid Crystal Display) 液晶显示器，常见的LCD接口有：
 - 8080
 - RGB
 - SPI
 - MIPI-SDI
 - LVDS

---------
8080 接口
---------

使用这种接口的屏幕一般是屏幕自带了驱动芯片，比如ILI9488、ILI9341、SSD1963等。
驱动芯片里面自带了显存，MCU只需要把显示数据传给驱动芯片，驱动芯片会把数据保存到显存中，最后再把显存中的数据显示到屏幕上。

信号线
-----------

+------------+---------------------------------------------------------------------------------------------------------+
| 信号线     | 功能                                                                                                    |
+============+=========================================================================================================+
| LCD_CS     | 片选信号，低电平有效                                                                                    |
+------------+---------------------------------------------------------------------------------------------------------+
| LCD_RST    | 复位信号，低电平有效                                                                                    |
+------------+---------------------------------------------------------------------------------------------------------+
| LCD_WR     | 写数据信号，低电平有效                                                                                  |
+------------+---------------------------------------------------------------------------------------------------------+
| LCD_RD     | 读数据信号，低电平有效                                                                                  |
+------------+---------------------------------------------------------------------------------------------------------+
| LCD_DC     | Data/Command selection. DC=1: D0~D15 为data(RGB像素数据或命令数据) DC=0: D0~D15 为command，表示控制命令 |
+------------+---------------------------------------------------------------------------------------------------------+
| LCD_D0~D15 | 16Bit 数据信号                                                                                          |
+------------+---------------------------------------------------------------------------------------------------------+

优点VS缺点
------------

优点：控制简单方便，无需时钟和同步信号，无需MCU提供显存，可省掉SDRAM或SRAM。

缺点：耗费GRAM，对驱动芯片有要求，所以难以做到大屏（QVGA以上），因为带了驱动芯片，会比RGB接口屏幕贵。

----------
RGB 接口
----------

大屏采用较多的接口，屏幕不带显存，需要MCU准备充足的显存空间（因为RGB565，480*272分辨率的屏幕就需要显存480*272*2=255K，一般的MCU都没有这么大的RAM，所以要加外置的SRAM或SDRAM）

信号线
---------

+--------+------------------+
| 信号线 | 功能             |
+========+==================+
| R[7:0] | 红色数据         |
+--------+------------------+
| G[7:0] | 绿色数据         |
+--------+------------------+
| B[7:0] | 蓝色数据         |
+--------+------------------+
| CLK    | 像素同步时钟信号 |
+--------+------------------+
| HSYNC  | 水平同步信号     |
+--------+------------------+
| VSYNC  | 垂直同步信号     |
+--------+------------------+
| DE     | 数据使能信号     |
+--------+------------------+

 1. RGB信号线
 2. 同步时钟信号CLK
 3. 水平同步信号HSYNC

   水平同步信号HSYNC(Horizontal Sync)用于表示液晶屏一行像素数据的传输结束，每传输完成液晶屏的一行像素数据时，HSYNC会发生电平跳变，
   如分辨率为800x480的显示屏(800列，480行)，传输一帧的图像HSYNC的电平会跳变480次。

 4. 垂直同步信号VSYNC
 5. 数据使能信号DE

优点VS缺点
------------

优点：屏幕便宜。4.3寸、7寸、10.1寸、10.4寸多是这种接口。

缺点：需要MCU带显存，一般需要外挂SRAM或SDRAM。

RGB屏 使用示例
===============

以 ``ST7282`` 为例，该屏分辨率为480x272.

``ST7282`` 显示一张 1280x720 的RGB图像，图像数据放在 PSRAM 中(0x60400000)。

.. code-block:: text

    bk_psram_init();

    bk_lcd_driver_init(LCD_12M);
    bk_lcd_isr_register(RGB_OUTPUT_EOF, NULL);
    bk_lcd_rgb_init(LCD_DEVICE_ST7282, PIXEL_1280, PIXEL_720， PIXEL_FMT_RGB565);
    bk_lcd_set_partical_display(1, 1, 480, 1, 272);
    lcd_driver_set_display_base_addr(0x60400000);
    bk_lcd_rgb_display_en(1);

